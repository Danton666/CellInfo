(function(_ds){var window=this;var wN=function(a,b,c){return a.h.then(function(d){var e=d[b];if(!e)throw Error("Method not found: "+b);return e.apply(d,c)})},xN=class{constructor(a){this.h=a;a.then((0,_ds.fd)(function(){},this),()=>{},this)}},zN=function(a,b,c){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];e=yN(a,b).then(function(f){return f.apply(null,d)});return new xN(e)},AN={},yN=function(a,b){var c=AN[b];if(c)return c;c=(c=_ds.Yc(b))?_ds.Pj(c):(new _ds.Lj(function(d,e){var f=(new _ds.qh(document)).createElement("SCRIPT");
f.async=!0;_ds.zc(f,_ds.Sf(_ds.bc(a)));f.onload=f.onreadystatechange=function(){f.readyState&&"loaded"!=f.readyState&&"complete"!=f.readyState||d()};f.onerror=e;(document.head||document.getElementsByTagName("head")[0]).appendChild(f)})).then(function(){var d=_ds.Yc(b);if(!d)throw Error("Failed to load "+b+" from "+a);return d});return AN[b]=c};var BN=class{constructor(a){this.h=a}v(a){_ds.Tj(wN(this.h,"requestSurvey",arguments),()=>{},this)}j(a){_ds.Tj(wN(this.h,"presentSurvey",arguments),()=>{},this)}o(a){_ds.Tj(wN(this.h,"dismissSurvey",arguments),()=>{},this)}},CN=new _ds.ac(_ds.Kf,"https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");_ds.Tj(yN(CN,"help.service.Lazy.create"),()=>{});var DN=function(){return"devsite-hats-survey"},HN=function(){if(EN){let a;null==(a=FN)||a.o({surveyMetadata:{sessionId:EN}});return GN.promise}return Promise.resolve()},IN=async function(a){var b=await _ds.u();let c="AIzaSyArC61vXsxgHizCNzGEDzdTWWhmiZsP2V4";b.hasFlagAccess(186)&&(c=_ds.x(b.getConfig(),18));var d=a.getAttribute("listnr-id");d?(b={locale:b.getLocale()||"en",apiKey:c},d=zN(CN,"help.service.Lazy.create",d,{apiKey:b.apiKey||b.apiKey,environment:b.environment||b.environment,helpCenterPath:b.Tt||
b.helpCenterPath,locale:b.locale||b.locale||"en".replace(/-/g,"_"),nonce:b.nonce||b.nonce,productData:b.productData||b.productData,receiverUri:b.du||b.receiverUri,renderApiUri:b.fu||b.renderApiUri,theme:b.theme||b.theme,window:b.window||b.window}),FN=new BN(d),a.h=FN):console.warn('<devsite-hats-survey> missing attribute "listnr-id"')},LN=function(a,b){let c;null==(c=a.h)||c.j({productData:{customData:{pageUrl:_ds.B().toString()}},surveyData:b,colorScheme:1,authuser:0,customZIndex:1E4,listener:{surveyPrompted:d=>
{EN=d.sessionId||null;GN=new _ds.nk;JN=GN.h},surveyClosed:()=>{EN=KN=null;JN()}}})},ON=class extends _ds.A{constructor(a){super();this.h=null;a&&(this.h=FN=a)}async connectedCallback(){KN=this;const a=this.getAttribute("hats-id");a&&a!==MN&&(await HN(),this.h||await IN(this),MN=a,await this.Uj(a))}disconnectedCallback(){KN=null;_ds.lk(NN,document.body,"devsite-page-changed",()=>{KN||(HN(),MN=null)})}async Uj(a){await _ds.u();let b;null==(b=this.h)||b.v({triggerId:a,callback:c=>{c.surveyData&&LN(this,
c.surveyData)},authuser:0,enableTestingMode:!1})}};ON.prototype.renderSurvey=ON.prototype.Uj;ON.prototype.disconnectedCallback=ON.prototype.disconnectedCallback;ON.prototype.connectedCallback=ON.prototype.connectedCallback;ON.closeCurrentSurvey=HN;ON.getTagName=DN;var MN=null,EN=null,KN=null,GN=new _ds.nk,JN=GN.h,NN=new _ds.E,FN=void 0;try{window.customElements.define(DN(),ON)}catch(a){console.warn("devsite.app.customElement.DevsiteHatsSurvey",a)};})(_ds_www);
